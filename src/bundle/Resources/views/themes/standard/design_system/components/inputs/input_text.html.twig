{% set input_classes =
    html_cva(
        base: html_classes('ids-input', {
            'ids-input--disabled': disabled,
            'ids-input--error': error,
            'ids-input--required': required,
        }),
        variants: {
            type: {
                text: 'ids-input--text',
                password: 'ids-input--password',
                email: 'ids-input--email',
                number: 'ids-input--number',
                tel: 'ids-input--tel',
                search: 'ids-input--search',
                url: 'ids-input--url'
            },
            size: {
                medium: 'ids-input--medium',
                small: 'ids-input--small'
            },
        }
    )
%}

{# {% set clear_action %}
    <twig:ibexa:IconButton :disabled="disabled" />
    {% include ids_get('ui/clear_btn') with {
        disabled
    } %}
{% endset %} #}

<input 
    class="{{ input_classes.apply({ type, size }, attributes.render('class')) }}"
    {{ disabled ?? 'disabled' }}
    {{ required ? 'required' }}
    {{ attributes }}
/>



{# {% set actions =
    actions|merge(
        [
            {
                id: 'clear',
                component: clear_action
            }
        ]
    )
%}

<div class="ids-input-text">
    <div class="ids-input-text__source">
        <input {{ html.attributes(input_attr) }} />
    </div>
    <div class="ids-input-text__actions">
        {%- for action in actions -%}
            {% set action_classes =
                html_classes(
                    'ids-input-text__action',
                    {
                        'ids-input-text__action--hidden': action.id == 'clear' and value is empty
                    }
                )
            %}

            <div class="{{ action_classes }}">
                {{- action.component|raw -}}
            </div>
        {%- endfor -%}
    </div>
</div> #}
