{% set has_icon = has_icon is defined ? has_icon : true %}
{% set is_expanded = is_expanded|default(false) %}
{% set collapse_label = collapse_label|default('') %}
{% set expand_label = expand_label|default('') %}

{% set label = is_expanded ? collapse_label : expand_label %}
{% set classes =
    html_classes(
        'ids-expander',
        'ids-expander--has-label',
        {
            'ids-expander--has-icon': has_icon,
            'ids-expander--is-expanded': is_expanded
        }
    )
%}

{% include ids_get('button') with {
    type: 'black-tertiary',
    size: 'small',
    content: label,
    attr: {
        class: classes,
        'data-expand-label': expand_label,
        'data-collapse-label': collapse_label
    }
} %}

{{ encore_entry_script_tags('ibexa-design-system-expander-js', null, 'ibexa') }}
